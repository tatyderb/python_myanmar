# Строки и циклы

lesson = 723107

## Строки и циклы

Переберем строку по 1 символу в цикле:

```python
s = 'abc12xy'
for x in s:
    print(x)
```
напечатает
```cpp
a
b
c
1
2
x
y
```

Сделаем строку без пробелов. 

**Один символ - это тоже строка**.

```python
s = 'q wer  t! '
res = ''                                # res - пустая строка
for x in s:                             # для каждого символа из s
    if x != ' ':                        # если символ не пробел
        res = res + x                   # добавим символ x в конец строки res
    print(res)                          # напечатаем строку
```
Напечатает
```cpp
q
q
qw
qwe
qwer
qwer
qwert
qwert!
qwert!
```
**Строку изменять нельзя. Можно сделать новую строку.**

## STRING hi

Что напечатает код?

```python
s = 'abz'
res = ''
for x in s:
    res = res + x + '-|-'
    
print(res)
```

ANSWER: a-|-b-|-z-|-

## Поиск и замена

Пусть у нас есть строка `A` и правила замены

* `A` => `A+B-A`
* `B` => `BB`

Последовательно заменяем каждый символ на строку по правилам. Заменять можно бесконечно, рассмотрим замены глубины 1 и потом 2.

### Начальное состояние

Оно дано. По условию строка `A`.

### Глубина 1

| Что заменяем в исходной строке | Правило | Новая строка |
|----|----|-----|
| **A** | `A` => `A+B-A` | **A+B-A** |

Теперь применим правила замены к каждому символу строки `A+B-A` и получим глубину 2.

### Глубина 2

Для `+` и `-` правил замены нет, они переходят как есть в новую строку.

| Что заменяем в исходной строке | Правило | Новая строка |
|----|----|-----|
| **A**+B-A | `A` => `A+B-A` | **A+B-A** |
| A**+**B-A | нет правила | A+B-A**+** |
| A+**B**-A | `B` => `BB` | A+B-A+**BB** |
| A+B**-**A | нет правила | A+B-A+BB**-** |
| A+B-**A** |  `A` => `A+B-A`  | A+B-A+BB-**A+B-A** |

В результате получили строку `A+B-A+BB-A+B-A`

Можно продолжать дальше, заменяя каждый символ строки `A+B-A+BB-A+B-A` по правилам и получить глубину 3.


## L-система описания фракталов

Фракталы можно описывать в [L-системе](https://ru.wikipedia.org/wiki/L-%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%B0)

Например, кривая Коха может быть описана так:

* `F` значит `t.fd(size)`
* `+` значит `t.lt(90)`
* `-` значит `t.rt(90)`
* Начало: `F`
* Правила замены (в цикле каждый символ заменяем строкой):
    * `F` => `F+F-F-F+F`
    
Посмотрим на замены глубины n.

### n = 0

строка: `F`

фрактал: ![0](https://stepik.org/media/attachments/lesson/723107/20px-Square_koch.svg.png)

### n = 1

строка: `F+F-F-F+F`

фрактал: ![1](https://stepik.org/media/attachments/lesson/723107/40px-Square_koch_1.svg.png)

### n = 2

строка: `F+F-F-F+F+F+F-F-F+F-F+F-F-F+F-F+F-F-F+F+F+F-F-F+F`

фрактал: ![2](https://stepik.org/media/attachments/lesson/723107/100px-Square_koch_2.svg.png)

### n = 3

строка: `F+F-F-F+F+F+F-F-F+F-F+F-F-F+F-F+F-F-F+F+F+F-F-F+F+F+F-F-F+F+F+F-F-F+F-F+F-F-F+F-F+F-F-F+F+F+F-F-F+F-F+F-F-F+F+F+F-F-F+F-F+F-F-F+F-F+F-F-F+F+F+F-F-F+F-F+F-F-F+F+F+F-F-F+F-F+F-F-F+F-F+F-F-F+F+F+F-F-F+F+F+F-F-F+F+F+F-F-F+F-F+F-F-F+F-F+F-F-F+F+F+F-F-F+F`

фрактал: ![3](https://stepik.org/media/attachments/lesson/723107/280px-Square_koch_3.svg.png)

## TASKINLINE L-форма кривой Коха

Напишите функцию **gen(s)** которая применяет к строке **s** правило замены и **возвращает** полученную строку.

`F` => `F+F-F-F+F`

CODE
def gen(s):
    res = ''
    # тут нужно написать код
    
    return res

s = input()
s1 = gen(s)
print(s1)

TEST
F
----
F+F-F-F+F
====
F+F-F-F+F
----
F+F-F-F+F+F+F-F-F+F-F+F-F-F+F-F+F-F-F+F+F+F-F-F+F
====
F+F-F-F+F+F+F-F-F+F-F+F-F-F+F-F+F-F-F+F+F+F-F-F+F
----
F+F-F-F+F+F+F-F-F+F-F+F-F-F+F-F+F-F-F+F+F+F-F-F+F+F+F-F-F+F+F+F-F-F+F-F+F-F-F+F-F+F-F-F+F+F+F-F-F+F-F+F-F-F+F+F+F-F-F+F-F+F-F-F+F-F+F-F-F+F+F+F-F-F+F-F+F-F-F+F+F+F-F-F+F-F+F-F-F+F-F+F-F-F+F+F+F-F-F+F+F+F-F-F+F+F+F-F-F+F-F+F-F-F+F-F+F-F-F+F+F+F-F-F+F
====
+
----
+
====

## TASKTEXT Кривая Коха

* Возьмите функцию **gen(s)** из предыдущей задачи
* Напишите функцию **draw(s, size)**, она по строке **s** рисует кривую Коха, **size** - размер маленькой линии.

Дана глубина рекурсии **n** и длина отрезка **size**. 

Нарисуйте кривую Коха данной глубины **n**, используя функции `gen` и `draw`. Длина маленького отрезка **size**

Для `n=3` и `size=20` нарисует:

![3](https://stepik.org/media/attachments/lesson/723107/280px-Square_koch_3.svg.png)

## TASKTEXT Кривая Коха - все глубины

Измените предыдущую программу так, чтобы рисовать все кривые Коха глубины от 0 до n. 

Задайте **total_size** - размер всей кривой.

![кривая Коха](https://stepik.org/media/attachments/lesson/479604/t12_2a.png)

## TASKTEXT Снежинка Коха

Нарисуйте кривую глубины 3, которая задается в L-системе так:

* `F` значит `t.fd(size)`
* `+` значит `t.lt(60)`
* `-` значит `t.rt(00)`

* Начало: `F--F--F`
* Правила замены (в цикле каждый символ заменяем строкой):
    * `F` => `F+F--F+F`
    
## TASKTEXT Построить L-систему

Не обязательная задача.

**Придумайте L-систему** и с ее помощью нарисуйте кривую заданной глубины.

![по этапам](https://stepik.org/media/attachments/lesson/479604/03_cube2.png)   

Анимация по шагам (глубина увеличивается).

![Анимация](https://stepik.org/media/attachments/lesson/479604/Minkowsky01.gif)
    
## TASKTEXT Стреловидная кривая Серпинского

Дано `n` - глубина фрактала и `size` - размер 1 отрезка.

Нарисуйте кривую:

* `A` или `B` значит `t.fd(size)`
* `+` значит `t.lt(60)`
* `-` значит `t.rt(00)`

* Начало: `A`
* Правила замены (в цикле каждый символ заменяем строкой):
    * `A` => `B-A-B`
    * `B` => `A+B+A`
    
Итерации для n = 2, n = 4, n = 6, n = 8
    
![кривая Серпинского](https://stepik.org/media/attachments/lesson/723107/486px-Serpinski_Lsystem.svg.png)

## TASKTEXT Кривая Дракона

Дано `n` - глубина фрактала и `size` - размер 1 отрезка.

Нарисуйте кривую:

* `F` значит `t.fd(size)`
* `+` значит `t.lt(90)`
* `-` значит `t.rt(90)`
* `X` и `Y` не рисуем, они нужны только для создания строки

* Начало: `FX`
* Правила замены (в цикле каждый символ заменяем строкой):
    * `X` => `X+YF+`
    * `Y` => `−FX−Y`

Начните рисовать кривую глубины `n`, повернув нужное количество раз на 45 градусов.

![Кривая дракона](https://stepik.org/media/attachments/lesson/723107/700px-Dragon_curve_iterations__2_.svg.png)

## TASKTEXT Фрактальное растение

**Не обязательная задача.**

Дано `n` - глубина фрактала и `size` - размер 1 отрезка.

Нарисуйте кривую:

* `F` значит `t.fd(size)`
* `+` значит `t.lt(25)`
* `-` значит `t.rt(25)`
* `[` значит "запомнить позицию и угол" - используем `t.pos()` и `t.heading()`
* `]` значит "восстановить позицию и угол, которую запомнили" - используем `t.setpos()` и `t.setheading()`

* Начало: `X`
* Правила замены (в цикле каждый символ заменяем строкой):
    * `X` => `F−[[X]+X]+F[+FX]−X`
    * `F` => `FF`

![Растение](https://stepik.org/media/attachments/lesson/723107/453px-Fractal-plant.svg.png)

## TASKINLINE жи- и ши- пиши через И

*Задача посвящается Азизу, который занял 1 место в конкурсе по русскому языку. Молодец, Азиз!*

В русском языке есть [правило](http://gramota.ru/lenta/news/8_2893): после букв 'ж' и 'ш' пишут И, даже если слышат Ы.

Лыжи, животное, мыши.

Напишите функцию **zhi(word)**, которая в слове **word** исправляет ошибки по этому правилу.

Дано натуральное число n. Дальше n слов по 1 слову на строку. Все слова написаны маленькими буквами.

Напечатайте исправленные слова по 1 слову на строку.

CODE
def zhi(word):
    # тут нужно написать код для исправления слова
    
    
n = int(input())
for i in range(n):
    s = input()
    s_ok = zhi(s)
    print(s_ok)

CONFIG
score:15
TEST
4
лыжы
шапка
животное
мышы
----
лыжи
шапка
животное
мыши
====
1
жывотное
----
животное
====
4
шкаф
шуба
рыжык
камышы
----
шкаф
шуба
рыжик
камыши
====

## TASKINLINE жи-ши-чу-щу-ча-ща

Не обязательная задача.

Еще одно [правило](https://mogu-pisat.ru/spravochnik/?wiki_name=%D0%9F%D1%80%D0%B0%D0%B2%D0%BE%D0%BF%D0%B8%D1%81%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%B3%D0%BB%D0%B0%D1%81%D0%BD%D1%8B%D1%85%20%D0%98%2C%20%D0%A3%2C%20%D0%90%20%D0%B2%20%D1%81%D0%BE%D1%87%D0%B5%D1%82%D0%B0%D0%BD%D0%B8%D1%8F%D1%85%20%D0%96%D0%98-%D0%A8%D0%98-%D0%A7%D0%A3-%D0%A9%D0%A3-%D0%A7%D0%90-%D0%A9%D0%90) русского языка.

После **ж, ч, ш, щ** не пишутся **ю, я, ы**, а пишутся **у, а, и**, например: ч**у**до, щ**у**ка, ч**а**с, рощ**а**, ж**и**р, ш**и**ть.
Буквы **ю** и **я** допускаются после этих согласных только в иноязычных словах (преимущественно французских), например: жюри, парашют (в том числе — в именах собственных, например: Сен-Жюст)

Исключения: жюри, брошюра, парашют, пшют, фишю.

Дано натуральное число n. Дальше n слов по 1 слову на строку. Все слова написаны маленькими буквами.

Напечатайте исправленные слова по 1 слову на строку.

CODE
def zhi(word):
    # тут нужно написать код для исправления слова
    
    
n = int(input())
for i in range(n):
    s = input()
    s_ok = zhi(s)
    print(s_ok)

CONFIG
score:20
TEST
4
жызнь
щюка
парашют
каша
----
жизнь
щука
парашют
каша
====
5
парашют
брошюра
пшют
жюри
фишю
----
парашют
брошюра
пшют
жюри
фишю
====
8
счастье
лужы
жыраф
щека
зашыть
сейчас
шумел
камыш
----
счастье
лужи
жираф
щека
зашить
сейчас
шумел
камыш
====
