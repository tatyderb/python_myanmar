# while

lesson = 521861

## for не хватает

* Надо нарисовать n квадратов. 
* Первый со стороной size, 
* каждый следующий на d меньше.

Напишем программу.

```python
import turtle
import math

t = turtle.Turtle()
t.color('blue')

# рисуем 1 квадрат
def sq(size):
	for i in range(4):
		t.fd(size)
		t.lt(90)
		
# рисуем n квадратов, первый со стороной size, следующие на d меньше
def sqn(size, d, n):
	for i in range(n):
		print ('size =', size)
		sq(size)					# 1 квадрат 
		size = size - d		# сторона следующего квадрата меньше на d

# так рисуем 3 квадрата, первый со стороной 200, остальные на 40 меньше
sqn(200, 40, 3)

turtle.done()
```

`sqn(200, 40, 3)` нарисует

![квадрат](https://stepik.org/media/attachments/lesson/479599/sq_3.png)

`sqn(200, 40, 7)` нарисует

![квадрат](https://stepik.org/media/attachments/lesson/479599/sq_7.png)

Получаются квадраты со стороной size < 0. Это плохо.

## Цикл while

Напишем цикл **while**

```python
# до цикла до цикла 1 раз

while условие:
    команды      # делаем в цикле много раз, пока условие ДА

# цикл закончился
# после цикла делаем 1 раз
```

TODO: диаграмму

* Если условие  ДА (True), то выполняем команды. 
* Потом опять идем проверять условие и выполняем команды. 
* Когда условие станет НЕТ (False), то цикл заканчиваем и делаем команды после цикла

```python
t = turtle.Turtle()

# рисуем 1 квадрат
def sq(size):
    for i in range(4):
        t.fd(size)
        t.lt(90)
        
# рисуем n квадратов, первый со стороной size, следующие на d меньше
def sqall(size, d):
    while size > 0:
        sq(size)         # 1 квадрат 
        size = size - d  # сторона следующего квадрата меньше на d


sqall(200, 40)
# sqall(200, 70)

turtle.done()
```

Запустите код для `sqall(200, 40)` и `sqall(200, 70)`

## Условие

Условие пишем как в математике. 

На клавиатуре нет знаков &ge; &le; &ne;. Пишем 2 знака подряд.

| Математика | Python | Русский |
|---|---|-----|
| &gt; | `>` | больше |
| &ge; | `>=` | больше или равно |
| &lt; | `<` | меньше |
| &le; | `<=` | меньше или равно |
| = | `==` | равно |
| &ne; | `!=` | не равно |


* `size < 0`
* `size <= 2`
* `size > 200`
* `size >= 200`
* `size == 300`
* `size != 100`

## Присвоить и сравнить

"size равно 100" мы пишем 2 знака `==`
```python
size == 100   # size равно 100 ?
```

"size присвоить 100" мы пишем часто, поэтому "присвоить" - это 1 знак `=`
```python
size = 100    # size присвоить 100
```

"не равно" записываем как `!=`
```python
size != 100
```

## TASKTEXT Задача: веер закрывается

Написать функцию **veer(size, d, ang)**. Она рисует веер.

* Первая линия длиной size.
* Каждая следующая на d меньше и повернута на угол ang.
* Рисуем, пока длина линии > 0.

`veer(200, 40, 30)` нарисует

![веер закрывается](https://stepik.org/media/attachments/lesson/479599/veer_1.png)

## TASKTEXT Задача: вложенные квадраты

Нарисовать вложенные квадраты с помощью функции **sqin(size)**, пока `size >= 50`.

`sqin(200)` нарисует:

![квадрат](https://stepik.org/media/attachments/lesson/479599/sq_in_50.png)

В задачах писать как вы будете проверять программу.

| Вызов функции | Нарисует квадратов |
|----|----|
| `sqin(200)` | 5 |
| `sqin(40)` | 0 |
| `sqin(240)` | 5 |

Посылаю решение на проверку:

* Пишу все проверки.
* Первую проверку отставляю. Работает только этот код.
* Остальные проверки начинаю с `#`. Преподаватель видит, вы умеете проверять.

Например:
```python
sqin(200)
# Ещё тесты:
# sqin(40)
# sqin(240)
```
**Если `sqin(200)` рисует 4 квадрата или 5, то посылайте решение на проверку и читайте следующий шаг**

## Почему размер квадрата больше 50?

Решим задачу:

![квадрат](https://stepik.org/media/attachments/lesson/479599/sq_in_50.png)

Пусть длина стороны квадрата $a$. 

Длина стороны вложенного квадрата $$a_{in} = a \cdot \frac{1}{\sqrt{2}} = a \cdot \frac{\sqrt{2}}{2} $$

Для математики формулы одинаковые.

Напишем программу:
```python
import turtle
import math

t = turtle.Turtle()
t.shape('turtle')
t.width(3)
t.color('blue')

def sq(size):
    for i in range(4):
        t.fd(size)
        t.lt(90)
        
def sqin(size):
    while size > 50:
        sq(size)
        t.fd(size/2)
        t.lt(45)
        
        #size = size / math.sqrt(2)
        size = size * math.sqrt(2) / 2
        # напечатаем новую длину стороны
        print(size)
        
sqin(200)

turtle.done()
``` 
Длины сторон будут:
```python
141.4213562373095   - рисуем квадрат 2
100.00000000000001  - рисуем квадрат 3
70.71067811865477   - рисуем квадрат 4
50.000000000000014  - рисуем квадрат 5
35.35533905932739   - стоп
```
Всего нарисуем 5 квадратов.

Заменим 1 строку кода:
```python
        size = size * math.sqrt(2) / 2
```
на
```python
        size = size / math.sqrt(2)
```
Запустим программу. Длины сторон будут:
```python
141.42135623730948  - рисуем квадрат 2
99.99999999999997   - рисуем квадрат 3
70.71067811865473   - рисуем квадрат 4
49.99999999999998   - стоп
```
Всего нарисуем 4 квадрата.

Почему?

Пусть у нас есть 5 клеток. В них можно записать число.

![Числа](https://stepik.org/media/attachments/lesson/521861/accuracy.png)

12, 367, 12345. Самое больше число можно записать 99999. Больше нет места.

Не целые числа тоже записываются в "клетки" компьютера. Если у нас 5 клеток, и записываем число 10/3 = 3.333333333333... Это бесконечная дробь. В 5 клеток можно записать 3.3333.

$$ 3.3333 < \frac{10}{3} $$

**Погрешность** - это разница между настоящим значением $ \frac{10}{3}$ и хранящимся числом 3.3333.

Запись числа $\sqrt{2}$ в компьютере тоже дает погрешность. Поэтому длина 5 квадрата не 50.0, а `50.000000000000014` или `49.99999999999998`.

Оба варианта "немного неправильные".

Можете послать на проверку задачу с любой формулой.

## TASKTEXT Задача: квадраты уменьшаются

Измените программу с функцией **sqall(size, d, sizemin)**.
 
* Функция должна рисовать 
    * синие (blue) квадраты от size, 
    * каждый следующий квадрат на d меньше, 
    * пока размер квадрата больше sizemin.
* Нарисовать **красный** квадрат размера sizemin.

`sqall(200, 40, 80)`  нарисует

![квадрат](https://stepik.org/media/attachments/lesson/479599/sqall_var.png)

**Изменить программу. Нужно рисовать синие и 1 красный квадрат.**

```python
import turtle

t = turtle.Turtle()

# рисуем 1 квадрат
def sq(size):
    for i in range(4):
        t.fd(size)
        t.lt(90)
        
# рисуем n квадратов, первый со стороной size, следующие на d меньше
def sqall(size, d):
    while size > 0:
        sq(size)         # 1 квадрат 
        size = size - d  # сторона следующего квадрата меньше на d

sqall(200, 40)

turtle.done()
```

## TASKTEXT Задача: квадраты увеличиваются

Напишите функцию **squp(sizemin, d, sizemax)**. Она рисует квадраты.

* `sizemin` - сторона первого квадрта,
* каждый следующий квадрат на `d` **больше** предыдущего,
* стороны квадрата увеличиваются до sizemax

`squp(50, 25, 200)` нарисует

![квадрат](https://stepik.org/media/attachments/lesson/479599/sd_up_1.png)

`squp(0, 70, 200)` нарисует

![квадрат](https://stepik.org/media/attachments/lesson/479599/sd_up_2.png)


## TASKTEXT Задача: Увеличивающиеся квадраты (сложнее)

Дан код квадратов, которые уменьшают свой размер с size на d, пока size > 0.
Нужно написать функцию squp(sizemin, d, sizemax), которая рисует квадраты со стороной от sizemin до sizemax, увеличивая следующий на d.

* Квадрат со стороной sizemin красным цветом (red).
* Квадрат со стороной sizemax зеленым цветом (green).
* Все остальные квадраты синим (blue) цветом. 

`squp(50, 25, 200)` нарисует

![квадрат](https://stepik.org/media/attachments/lesson/479599/sd_up_1c.png)

`squp(0, 70, 200)` нарисует

![квадрат](https://stepik.org/media/attachments/lesson/479599/sd_up_2c.png)

## TASKTEXT Задача: веер открывается

Нарисовать функцией **veer(d, ang)** веер.

* Первая линия длиной 0.
* Каждая следующая на d больше и повернута на угол ang.
* Рисуем, пока длина веер не раскроется на 180 градусов.

Сделайте переменную sumang. Считайте в ней на сколько градусов уже повернулись. Чему равно значение переменной sumang перед циклом while?

`veerup(40, 30)` нарисует

![веер](https://stepik.org/media/attachments/lesson/479599/veer_2.png)

`veerup(50, 40)` нарисует

![веер](https://stepik.org/media/attachments/lesson/479599/veer_2a.png)

## Сравнения и математика

Математики любят python.

Python любит математиков.

В python можно написать сравнение, как в математике:

* `0 < x <= 300`
* `200 > y > 10`

## TASKTEXT Задача на сравнение

Не обязательно!

Придумайте задачу, где нужно сравнивать `a < x < b`.

Если придумали, пошлите **условие** и решение. Можно написать в комментариях к этому шагу.