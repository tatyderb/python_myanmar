# Методы класса str

lesson = 483641

## Функции и import (повторение)

Нужно вычислить $\sqrt{2}$ и $|x|$. 

В python `sqrt(x)` вычисляет функция `sqrt`. Она в пакете (библиотеке, модуле) `math`.

Чтобы ее использовать, нужно написать `import`.

### имя_пакета . имя_функции

При вызове функции пишем ее полное имя.

Это **имя_пакета.имя_функции**, например `math.sqrt`:

```python
import math

x = math.sqrt(2)    # имя пакета ТОЧКА имя функции
```

### Импорт каких функций

Или при импорте указываем, что берем из пакета. Тогда можно не писать имя пакета.

```python
from math import sqrt, sin

x = sqrt(2)    # имя пакета не нужно, сразу пишем имя функции
```

### Встроенные функции

Некоторые функции уже есть в python.

Например, `input()`, `int()`, `abs()`. Для них `import` не нужен. 
Такие функции называют **встроенными** функциями (**build-in function**).


## Функции и методы

Вспомним, как рисовали черепахой
```python
import turtle

t = turtle.Turtle()

def sq(size):
    for i in range(4):
        t.fd(size)
        t.lt(90)

t.fd(50)    # рисуем линию
sq(100)     # рисуем квадрат

turtle.done()
```
Разберем 

* `sq(size)` - это функция. Мы ее определяем `def sq(size):` и вызываем `sq(100)`.
* `turtle` - это пакет для работы с черепахой. Мы ее импортируем `import turtle`
* `turtle.done()` - вызываем функцию `done` по полному имени.
* `turtle.Turtle()` - вызываем функцию `Turtle()` по полному имени. 
    * Функция создала черепаху. Черепаха - это **объект**. ЧТО? Черепаха!
        * Черепаха - это объект класса Turtle. `type(t)` это `Turtle`
        * `42` - объект типа `int` (число). `type(42)` это `int`
        * `"hello"` - объект типа `str` (строка). `type("hello")` это `str`
        * `[3, -7, 22]` - объект типа `list` (список). `type([3, -7, 22])` это `list`
    * функция вернула указатель на черепаху (ГДЕ черепаха?)
    * `t` - переменная. Переменная хранит всегда указатель на объект. ГДЕ?
* У черепахи есть свои функции, например `t.fd(50)`. Эта черепаха вызвала *свою* функцию `fd`.
    * Функция объекта называется **метод**. `fd` - это метод черепахи.
    * `t.fd(50)` - вызвать метод `fd` для *этой* черепахи `t`
    * `"abc 12 xxx".split()` - у объекта `"abc 12 xxx"` (строка) вызвать метод `split()`.
        * `split()` вызван без аргументов. 
        * `split()` делит на слова строку, для которой он вызван `"abc 12 xxx".split()`

```python
z1 = "abc 12 xxx".split()   # z1 = ["abc", "12", "xxx"]

s = "abc 12 xxx"            
z2 = s.split()              # z2 = ["abc", "12", "xxx"]
```

* Метод вызывают **объект.метод**, например, `"abc 12 xxx".split()`
* Если переменная `s` указывает на объект, то метод вызывают
    * **переменная.метод()**

Как у черепахи `t.fd(50)`.

## Методы класса str

Строки - это объекты класса **str**. Для них уже есть много методов. 

**строка.метод**


## Убираем пробелы и символы

*   Убрать символы (пробелы)
    * str.**lstrip**()
    * str.**rstrip**()
    * str.**strip**()
    
```python
>>> '   spacious   '.strip()
'spacious'
>>> 'www.example.com'.strip('cmowz.')
'example'
>>> comment_string = '#....... Section 3.2.1 Issue #32 .......'
>>> comment_string.strip('.#! ')
'Section 3.2.1 Issue #32'
```

## Делаем из табуляции пробелы

* Из табуляций в пробелы
    * str.**expandtabs**() - заменить табуляции на пробелы
    * str.**expandtabs(tab_width)**
        * tab_width - сколько пробелов в 1 табуляции.

Табуляция записывается в строке как `\t`

```python
>>> '01\t012\t0123\t01234'.expandtabs()
'01      012     0123    01234'
>>> '01\t012\t0123\t01234'.expandtabs(4)
'01  012 0123    01234'
```

## Дополняем строку нулями

*   Делаем строку
    * str.**zfill**(length) - заполняем строку нулями до ее длины length.
    
```python
>>> "42".zfill(5)
'00042'
>>> "-42".zfill(5)
'-0042'
```

## Кодировки (charset)

**В python кодировка utf-8**

Иногда текст показан неправильными символами. Нужно показать правильными. Нужно сменить кодировку (encode).

* Мьянма - из Zawgyi в Unicode. 
* Китай - из utf-8 в utf-16.
* Россия - старые кодировки 
    * KOI8-R
    * cp-1251 (в Windows)

*   Кодировка:
    * str.**encode**(encoding="utf-8")
    
[Unicode](https://docs.python.org/3/howto/unicode.html)

## Проверки строки

Эти методы проверяют, что строка не пустая и содержит только:

| Метод | True если | 
|----|----|
| str.isalnum() | буквы или числа |
| str.isalpha() | буквы |
| str.isdecimal() | десятичные цифры |
| str.isdigit() | цифры |
| str.isidentifier() | идентификатор (хорошее имя для переменной или функции) |
| str.islower() | (маленькие буквы) |
| str.isnumeric() | цифры |
| str.isprintable() | печатные символы |
| str.isspace() | пробельные символы (пробел, табуляция, перевод строки и так далее) |
| str.istitle() | Слова Пишутся С Большой Буквы|
| str.isupper() | большие буквы |

```python
>>> 'aaa_12'.isalnum()
False
>>> 'aaa12'.isalnum()
True
>>> 'Хорошо'.isalnum()
True
>>> '190'.isdecimal()
True
>>> '190.12'.isdecimal()
False 
```

## Изменить размер букв и выравнивание

*   Большие и маленькие буквы:
    * str.**capitalize**()
    * str.**casefold**()
    * str.**swapcase**()
    * str.**title**()
    * str.**upper**()
    * str.**lower**()
    
*   Выравнивание сделать:
    * str.**center**()
    * str.**ljust**()
    * str.**rjust**()

