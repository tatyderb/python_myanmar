# Классы и объекты

lesson = 813997

## Агрегация данных

В программировании хочется научиться объединять данные. Например, все данные, которые связаны между собой. Например, x, y, dx, image у игрока. Или x и y координаты точки.

Научиться создавать свои **типы данных**, в которых объединены данные и функции для работы с ними. Например, у нас есть тип для работы со строками, в них есть данные (много символов) и функция `split` (и другие функции). Такое объединение в программировании называют объектно-ориентированным подходом (ООП), а получившийся тип данных - **классом**. 

*Сейчас мы расскажем про классы и объекты. Для объяснения принципов мы будем использовать корректный синтаксис, но очень неудобный. Обычно классы и объекты в питоне пишут по-другому. Более удобный синтаксис будет показан позже.*

В питоне для объединения данных используются объекты. Считайте, что объект - эта такая сумка с именем, в которую можно положить разные переменные (атрибуты) и обращаться к ним через синтаксис "точка" `сумка.атрибут` через объект (сумку) и атрибут (переменная в этой сумке).

### Определение класса

**Объект** или **экземпляр класса** - это одна конкретная сумка. **Класс** - это описание похожих сумок. Синтаксически выглядит так:
```python
class ИмяКласса:
    тело_класса
```

* специальное слово **class**
* имя класса (принято писать с большой буквы, придумаем имя сами)
* `:`
* тело класса, что в классе содержится, пишем с отступом в 1 табуляцию
    * в пустом классе содержимое - специальное слово **pass**

```python
# это описание (пустого) класса с именем Bag
class Bag:
    pass
```    
### Создание объекта класса

* Чтобы **создать объект** класса, он же **экземпляр** класса, мы указываем имя класса и `()`. Например, `Bag()`

* Чтобы иметь доступ к объекту, мы сохраняем ссылку на объект в переменной `mybag`.

**Тут должен быть рисунок: переменная mybag ссылается на объект**

```python
mybag = Bag()       # объект класса Bag, на него ссылается переменная mybag
other = Bag()       # еще один объект класса Bag, на него ссылается переменная other
```
**Вместо "объект, на который ссылается переменная mybag" часто говорят "объект mybag", подразумевая, что mybag на самом деле переменная, которая ссылается на объект.** Так же будем говорить "создадим объект mybag типа Bag", подразумевая, что "создадим объект типа класс Bag и запишем ссылку на него в новую переменную mybag".

Тип объекта будет `class Bag`:
```python
print(type(other))  # <class '__main__.Bag'>
```

### Добавление, изменение и чтение атрибутов объекта

```python
# начнем класть в наши сумки переменные (атрибуты):
mybag.money = 100               # в объекте mybag теперь атрибут money со значением 100
mybag.book = 'Python cookbook'  # в объекте mybag теперь атрибут money со значением 100 
                                # и атрибут book со значением 'Python cookbook'
                                
other.money = 57                # в объекте other есть атрибут money со значением 57
other.food = 'apple'            # в объекте other есть атрибут money со значением 57 
                                # и атрибут food со значением 'apple'
```
Значения этих переменных (атрибутов) можно читать и изменять:
```python
print(mybag.money)              # 100
print(other.food, other.money)  # apple 57
mybag.book = 'Общая физика'     # изменили значение атрибута
print(mybag.money, mybag.book)  # 100 Общая физика
```
Выражение `mybag.money` означает, что *иди к объекту, на который ссылается переменная `mybag` и получи значение `money`**

**Тут должен быть рисунок - диаграмма объекта как на стр 141**



Аналогично можно определять объект класса `Point` и записывать в него атрибуты `x` и `y`:
```python
class Point:
    pass
# тут объявление класса закончено, можно его использовать

# использование класса:    
zero = Point()      # объект описывает точку с координатами (0, 0)
zero.x = 0
zero.y = 0

p = Point()         # объект описывает точку с координатами (10, -2)
p.x = 10
p.y = -2
p.x = 7             # теперь описывает точку с координатами (7, -2)

print(zero.x, zero.y)   # 0 0
print(p.x, p.y)         # 7 -2
```
Что будет, если попробуем прочитать атрибут, которого нет? Ошибка.
```python
print(p.z)              # AttributeError: 'Point' object has no attribute 'z'
```

## SKIP QUIZ class

Выберите правильный код для создания класса `Cat`.

A. `class Cat:`
B. `def Cat:`
C. `Class Cat:`
D. `class: Cat`

ANSWER: A

## TASKINLINE class

Определите пустой класс `Gun`.

Для проверки вашего решения используется код:
```python
g = Gun()
print(type(g))
```

CONFIG
score: 3
FOOTER
g = Gun()
print(type(g))
TEST
Входных данных нет
----
<class '__main__.Gun'>
====

## TASKINLINE объект

Определите пустой класс `Gun`. Создайте два объекта этого класса, на них ссылаются переменные `tt` и `revolver`

Для проверки вашего решения используется код:
```python
tt.bullets = 8
revolver.bullets = 6
print(tt.bullets, revolver.bullets)
```

CONFIG
score: 3
FOOTER
tt.bullets = 8
revolver.bullets = 6
print(tt.bullets, revolver.bullets)

TEST
Входных данных нет
----
8 6
====

## docstring

При определении класса обычно пишут с какими данными он работает. Определим класс, который будет описывать отрезок на оси Х (одномерный). Назовем его `Segment1`

```python
class Segment1:
    """ Одномерный отрезок. """
    pass
```

Мы добавили в класс его описание в тройных `"`. Такой формат называется docstring. Это описание показывает PyCharm, если навести мышкой на имя класса.

![class docstring](https://stepik.org/media/attachments/lesson/813997/class_docstring.png)

Другие IDE тоже могут показывать описания классов и методов, если оформлять их как docstring.

Функция **help** покажет описание функции или класса, если описание оформлено как docstring.

```python
help(Segment1)
```

docstring можно писать на нескольких строках.

## QUIZ docstring

docstring пишется

A. `""" В трех двойных кавычках """`
B. `''' В трех одинарных кавычках '''`
C. После знака `#`
D. `" В двойных кавычках в начале определения класса или функции. "`
E. `' В одинарных кавычках в начале определения класса или функции. '`

ANSWER: A

