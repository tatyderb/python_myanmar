# Переменные

lesson = 1140280

## Переменные 

### Содержание

1. Что такое переменная и идентификатор.
2. Правильные имена переменных.
3. Оператор `=`
4. Когда создается переменная.
5. Короткая форма операторов `+=`, `-=` ...
6. Правила составления идентификаторов, naming conventions, snake_case и camelCase. 

### Решение квадратного уравнения

Корни квадратного уравнения $ax^2 + bx + c = 0$ можно найти по формуле $$x = {-b \pm \sqrt{b^2-4ac} \over 2a}$$ или же 
$$x = {-b \pm D \over 2a}$$, где $$D = \sqrt{b^2-4ac}$$

Пусть дано уравнение $x^2 + x - 20 = 0$, вычислим его корни.

➖: много раз вычислять $\sqrt{b^2-4ac}$

➕: один раз вычислить, **сохранить результат в памяти компьютера** и дальше использовать сохранённые данные.


![no](https://stepik.org/media/attachments/lesson/1140054/no.gif)
: много раз вычислять $\sqrt{b^2-4ac}$

<br/>![yes](https://stepik.org/media/attachments/lesson/1140054/yes.gif)
: один раз вычислить, **сохранить результат в памяти компьютера** и дальше использовать сохранённые данные.

Можно запомнить значение с помощью **переменной** и оператора `=` (присвоить). 

![pen](https://stepik.org/media/attachments/lesson/1140054/pen.gif) 
**Переменная** - место в памяти компьютера, к которому мы обращаемся по его имени (**идентификатору**).

```python
>>> с = -20
```
Переменной с именем `с` присвоить значение `-20`. После того, как мы сохранили значение, можно его прочитать из **идентификатора** (имени переменной) `с`.

Чтобы *в консоли* узнать значение переменной, можно ее написать. Интерпретатор покажет, что хранится в этой переменной.
```python
>>> c
-20
```
Запишем другие коэффициенты членов уравнения в переменные `a` и `b`:
```python
>>> a = 1
>>> b = 1
```

Результат вычисления можно тоже записать в переменную, например, переменную `d` (от слова "дискриминант"). Посмотрим, чему равно значение переменной после присвоения:

```python
>>> d = (b**2 - 4*a*с)**0.5
>>> d
9.0
```
Теперь вычислим корни:
```python
>>> x = (-b + d)/(2*a)
>>> x
4.0
>>> x = (-b - d)/(2*a)
>>> x
-5.0
```
Мы записали значение в одну и ту же переменную. Новое значение `-5.0` затерло старое значение. Теперь переменная `x` имеет значение `-5.0`, к первому корню `4.0` нельзя доступиться. Если нужно сохранить оба корня, надо сделать две разных переменных, например, `x1` и `x2`:
```python
>>> x1 = (-b + d)/(2*a)
>>> x1
4.0
>>> x2 = (-b - d)/(2*a)
>>> x2
-5.0
>> x1
4.0
```

### x = 2 или 2 = x

`x = 2` - означает "в переменную `х` записать значение 2". Слева всегда сказано **где** хранится значение. Справа **что** (чему равно значение).

Нельзя написать `2 = x`. **Нельзя записать В число**.

С точки зрения математиков уравнения $x = 2$ и $2 = x$ одинаковые. Но у нас нет уравнений! Есть `=` - "оператор присвоить". С точки зрения интерпретатора `2 = x` - ошибка. Слева должно стоять **где**, куда сохранять значение. 

`x + 2 = y` - тоже ошибка, слева должно быть *где*, куда именно сохранять значение.

### Создание переменной

**Переменная создается в момент первого её использования.** Это очень удобно.


![lamp](https://stepik.org/media/attachments/lesson/1140054/lamp.gif)
Дальнейшие команды присвоения лишь меняют значение переменной.


## NUMBER 

Чему равна переменная `res`?

```python
>>> a = 2
>>> b = 3
>>> res = a * 5 + b
```

ANSWER: 13


## QUIZ 

Чему равна переменная `res`?

```python
>>> a = 2
>>> b = 3
>>> res = a * 5 + zzz
>>> zzz = 7
```

A. 10
B. 13
C. Ошибка, так как переменная `zzz` ещё не существует.

ANSWER: C

## QUIZ Без ошибки

Отметьте выражения без ошибок (правильные выражения).

A. a = 12
B. b = 3 + 2
C. <pre>x = 5<br/>y = x + 10</pre>
D. 13 = area
E. z + 2 = 12
F. <pre>k = p + 7<br/>p = 4</pre>

ANSWER: A, B, C

## x = x + 5

Посчитаем на сколько хватит стипендии первокурснику из малообеспеченной семьи. 

* Государственная социальная стипендия 7000 рублей.
* За общежитие студент платит 1355 рублей в месяц.
* Комплексный обед в столовой стоит 130 рублей. Каждую неделю он дорожает на 10 рублей (это только для задачи! в нашей столовой стабильные качество и цены!)
* Сколько останется у студента от стипендии, если в месяце 30 дней?

В переменной `total` будем хранить сколько денег у студента.

Сначала ему дали стипендию. Всю стипендию запишем в переменную. 
```python
>>> total = 7000
```
Заплатим за общежитие. Останется у нас `total - 1355` рублей, эту сумму **запишем опять в переменную `total`**
```python
>>> total = total - 1355
>>> total
5645
```
Это не математика, где нужно решать уравнения. Это:

1. Прочитать значение `total`, получили 7000
2. Вычислили `7000 - 1355`, получили 5645
3. Этот результат записываем в переменную `total`

Посмотрим потом на значение переменной `total`. В ней теперь хранится число 5645. 

В переменную `days` запишем количество дней в месяце, в `price` цену обеда

```python
>>> days = 30
>>> price = 130
```

Вычислим, сколько останется дней через 7 дней и сколько останется денег через 7 обедов.

```python
>>> days = days - 7
>>> days
23
>>> total = total - price * 7
>>> total
4735
```
Потом цена увеличится на 10. Запишем новую цену в переменную `price`. Вычислим сколько осталось дней и сколько осталось денег после второй недели.
```python
>>> price = price + 10
>>> price
140
>>> days = days - 7
>>> days
16
>>> total = total - price * 7
>>> total
3755
```
Третья неделя проходит аналогично:
```python
>>> price = price + 10
>>> price
150
>>> days = days - 7
>>> days
9
>>> total = total - price * 7
>>> total
2705
```
Четвертая неделя:
```python
>>> price = price + 10
>>> price
160
>>> days = days - 7
>>> days
2
>>> total = total - price * 7
>>> total
1585
```
Осталось два дня!
```python
>>> price = price + 10
>>> price
170
>>> days
2
>>> total = total - price * days
>>> total
1245
```
Интернет 400 рублей в месяц. Останется еще 845 рублей.

### Краткие варианты

Выражение `price = price + 10` ("новая цена - это старая цена плюс 10") можно записать как `price += 10` ("увеличить цену на 10")

* `+` и `=` пишутся слитно, между ними нельзя ставить пробел; `+ =` - ошибка.
* Сначала пишут арифметическую операцию, `+`, потом `=`; `=+` - ошибка.
* такие короткие формы оператора "присвоить" есть для каждой арифметической операции: `+=`, `-=`, `*=`, `/=`, `//=`, `%=`.

## QUIZ Напишем правильно

Для переменных `x`, `y`, `z` отметьте синтаксически корректные выражения:

A. `z -= y`
B. `z + 2 = y`
C. `3 = z`
D. `5 -= y`
E. `y = 34 + x`
F. `x + = 7`
G. `y =* 4`

ANSWER: A, E


## Идентификаторы

**Имя переменной** является **идентификатором**. Имя надо придумать по правилам.

### Правила обязательные

Нарушать нельзя. Интерпретатор не поймет. Будет ошибка.

* Идентификатор может содержать 
    * букву (маленькую или большую латинскую)
    * арабские цифры. **Нельзя начинать имя с цифры**
    * символ `_` 
* Идентификатор не должен совпадать с ключевыми словами языка.
* Идентификатор чувствителен к регистру, то есть `a` и `A` - разные идентификаторы.

Хорошо: `x3`, `_x`, `rectangle_area`, `rectangleArea`

Ошибка: `3x` (начинается с цифры), `else` (ключевое слово), `rectangle area` (содержит внутри пробел)

### Рекомендации по наименованию переменных (naming conventions)

Это как правила вежливости. Их можно нарушить, но другие программисты вас будут осуждать:

* ** Имя переменной принято писать с маленькой буквы **.
    
* Имя переменной должно быть значащим. То есть вы должны из него понимать, что хранится в переменной.
    * хорошо: `area`
    * плохо: `a34tw21w6pu`
    * название переменной `_` - хорошее имя в некоторых случаях, интерпретатор разрешает такое имя.
    
На самом деле в нем могут быть [не только латинские буквы](https://www.python.org/dev/peps/pep-3131), но это плохо.
 
* вы будете путать идентификаторы `a` (латинская) и `а` (русская), а для интерпретатора - это два *разных* идентификатора. Не пишите идентификаторы `c` (это латинская или русская буква?), `l` и `I` (L маленькая и i большая, их легко спутать с 1),  
* если вы используете идентификаторы `ширина` и `высота` вместо `width` и `height`, то первый же пришедший в ваш проект китаец имеет право использовать идентификаторы 宽度 и 高度. Как хотите теперь, так их и различайте.

Если в переменной хранится цена обеда, то `price` - это хорошее имя, `a` - плохое, особенно если `b` - количество денег, `c` - количество дней. Легко запутаться в формулах.

### snake_case и camelCase

Когда нужно сделать одно название из нескольких слов, в немецком языке эти слова пишут слитно. Так получилось слово Rindfleischetikettierungsueberwachungsaufgabenuebertragungsgesetz. Немцы такое прочитают легко, а мы с трудом. Другие народы привыкли визуально отделять одно слово от другого. В русском языке отделяют пробелами и знаками препинания. Внутри идентификатора пробелы использовать нельзя. Поэтому идентификатор из нескольких слов разделяет их *визуально* через `_` или с помощью больших буквам.

Напишем переменную, в которой хранится общее количество пополнений счета пользователя, total deposit amount.

* `total_deposit_amount` - такой стиль называют "snake case", он же `lower_case_with_underscores`, его принято использовать в python.
* `totalDepositAmount` - первая буква маленькая, первые буквы следующих слов большие, это "camelCase", так принято именовать в языках С++, Java.

### Ключевые слова языка

Это весь язык. Он маленький. Мы его выучим. Пока надо запомнить, что такие идентификаторы писать нельзя.

```python
False      await      else       import     pass
None       break      except     in         raise
True       class      finally    is         return
and        continue   for        lambda     try
as         def        from       nonlocal   while
assert     del        global     not        with
async      elif       if         or         yield
```

## QUIZ 

Какие идентификаторы *интерпретатор питона* считает правильным?

A. `area`
B. `area2`
C.  `2area`
D. `global`

ANSWER: A, B

## QUIZ 

Какие идентификаторы *интерпретатор питона* считает правильным?

A. `_area`
B. `rectangle_area`
C. `area_`
D. `_`
E. `rectangleArea`

ANSWER: A, B, C, D, E
