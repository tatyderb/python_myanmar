# PEP-8

lesson = 1154756

## Читаемость кода - зачем?

Интерпретатор разбивает текст вашей программы на понятные ему слова и понимает их. Интерпретатор - это программа, ему все равно написан ваш код слитно, или красиво отформатирован (правильно расставлены пробелы и переводы строк).

Преподаватель и ваши будущие коллеги - это не бездушные программы, а живые люди. Им удобнее читать хорошо отформатированный текст. Этот текст красивый, но читать его неудобно:

![Снег таял](https://magazines.gorky.media/wp-content/uploads/2019/04/8-13.jpg)


Мы стараемся форматировать текст курса, чтобы его было удобно читать. 

* Пишите программы так, чтобы их было всем удобно читать. Зачем?

    * Преподаватель будет проверять как написана ваша программа. Это называется **code review**. Во всех хороших командах программистов код одного человека просматривает другой человек.

        * можно увидеть неочевидную ошибку в логике программы,
        * замечания по коду сделают ваш код лучше и повысят вашу квалификацию.

    * Вы сами будете читать свой код. Через день, чтобы закончить работу. Через месяц, чтобы исправить ошибку. Через год, чтобы использовать ваш код как основу для новой программы. Уже через месяц вы будете смотреть на код, как будто видите его в первый раз. Позаботьтесь о себе!
    
Представим, я делаю задание по математике и оно написано нечитаемо.

* преподаватель не может его проверить, 
* вы сами не можете разобраться в старом решении,
* никто не может найти ошибку в решении, проще решить заново.

Код должен быть читаем. Ставьте пробелы и переводы строк как все программисты на python. А как делают эти "все" и откуда они узнали, как ставить правильно?

## PEP-8

Я люблю python. Потому что он заставляет студентов писать код красиво. С отступами. Нет отступов? Код стал не в функции а вне её. Ошибка! 

Как написать код красиво даже закреплено в специальном документе, [PEP-8](https://peps.python.org/pep-0008) (сокращение от Python Enhanced Proposal, документ номер 8). Есть перевод части на [русский язык](https://pythonworld.ru/osnovy/pep-8-rukovodstvo-po-napisaniyu-koda-na-python.html).

Многие IDE показывают вам нарушение правил форматирования и могут переформатировать файл красиво.

Рассмотрим часть правил и в каждой новой теме будем показывать как правильно оформлять изученные синтаксические конструкции.

### 80 символов - ширина строки

Постарайтесь не писать длинных строк.

### 4 пробела на каждый уровень отступа

**Не используйте для отступов вместе табуляцию и пробелы**. Это приведет к синтаксической ошибке. *Настройте ваш редактор так, чтобы вместо 1 табуляции он ставил 4 пробела. Stepik уже настроен.*

### Никаких пробелов до и после `(` и `)`

Правильно:
```python
print('Hello')
```
Неправильно:
```python
print ('Hello')
print( 'Hello' )
```
*Так иногда вынуждены писать преподаватели на слайдах, чтобы с задних рядов класса `(` не слипалась с остальным текстом. Если вы пишете программу, а не презентацию для класса, не ставьте лишние пробелы.*

### Пробел ставится. ПОСЛЕ запятой `,`

Правильно:
```python
print(12, 34)
```
Неправильно:
```python
print(12,34)        # не экономьте пробелы! Они бесплатные!!!
print(12 , 34)
```

### Арифметические выражения

Тут кроме пожелания у каждого бинарного оператора с обоих сторон ставить пробел есть здравый смысл, который разрешает не ставить пробелы, если это **повышает** читаемость выражения.

**Вокруг `=` поставьте по пробелу.**

Хорошо:
```python
i = i + 1
submitted += 1
x = x*2 - 1
hypot2 = x*x + y*y
c = (a+b) * (a-b)
```
Плохо:
```python
i=i+1
submitted +=1
x = x * 2 - 1
hypot2 = x * x + y * y
c = (a + b) * (a - b)
```
Выравнивать по `=` при присваивании тоже считается дурным стилем.

Хорошо:
```python
x = 1
y = 2
long_variable = 3
```
Плохо:
```python
x             = 1
y             = 2
long_variable = 3
```

### Именованные аргументы и значения по умолчанию

**Никаких пробелов вокруг `=`**. Там ставьте, тут - не ставьте :)

Хорошо:
```python
def complex(real, imag=0.0):
    return magic(r=real, i=imag)
```
Плохо:
```python
def complex(real, imag = 0.0):
    return magic(r = real, i = imag)
```

### Пустые строки

Повышают визуальное разделение на блоки кода.

Обычно между функциями оставляют по 2 строки. В онлайн редакторе степика все экономят строки и обещают себе, что в большой программе и солидном IDE будут именно так делать.

### Много аргументов в функции (пока не актуально)

Хорошо:
```python
# Correct:

# Aligned with opening delimiter.
foo = long_function_name(var_one, var_two,
                         var_three, var_four)

# Add 4 spaces (an extra level of indentation) to distinguish arguments from the rest.
def long_function_name(
        var_one, var_two, var_three,
        var_four):
    print(var_one)

# Hanging indents should add a level.
foo = long_function_name(
    var_one, var_two,
    var_three, var_four)
```
Плохо:
```python
# Arguments on first line forbidden when not using vertical alignment.
foo = long_function_name(var_one, var_two,
    var_three, var_four)

# Further indentation required as indentation is not distinguishable.
def long_function_name(
    var_one, var_two, var_three,
    var_four):
    print(var_one)
```

Продолжение - в следующих темах.