# Перебираем элементы

lesson = 1133855

## Перебираем все элементы

Раньше мы читали три целых числа на одной строке через пробел так:
```python
x, y, z = map(int, input().split())
```
Если вводили числа `7 -2 4`, то получали
```python
x = 7
y = -2
z = 4
```

Последовательность чисел можно сохранить в одну переменную. 

```python
a = map(int, input().split())
```
С помощью **for** можно перебрать все элементы последовательности.
```python
for x in a:
    print(x)
```

### Читаем последовательность чисел и печатаем по одному числу на строке

Последовательность целых чисел можно получить и перебрать так:

```python
# получим последовательность целых чисел
a = map(int, input().split())   

# переберем последовательность по одному элементу и напечатаем числа
for x in a:
    print('Число', x)
```
Ввод:
```python
5 -44 17
```
Вывод:
```python
Число 5
Число -44
Число 17
```
* **Последовательность может быть любой длины**, `for` переберет по одному элементу из нее.
* Очередной элемент записывается в переменную `x` (имя придумали мы сами).

Последовательность:

* получаем с помощью функции **map**
* все элементы имеют одинаковый тип, у нас это `int`
    * если нужно прочитать дробные числа, то пишем `map(float, input().split())`
* по этой последовательности можно пройти один раз, после чтения элемента, он исчезает из последовательности:

```python
# получим последовательность целых чисел
a = map(int, input().split())   

# переберем последовательность по одному элементу и напечатаем числа
for x in a:
    print('Число', x)
    
print('--------')

# попробуем перебрать еще раз
for x in a:
    print('Опять число', x)
```
Ввод:
```python
5 -44 17
```
Вывод:
```python
Число 5
Число -44
Число 17
--------
```
Видно, что "Опять число" не было напечатано ни разу. Потому что когда мы проходили в первом цикле, прочитанное число исчезало из последовательности и она стала пустой.

Второй цикл перебирал пустую последовательность.

Это как зубная паста из тюбика. Если мы ее взяли, то вот этого кусочка пасты в тюбике нет. Обратно в последовательность элемент засунуть нельзя. Такие последовательности в питоне называют **генератор**. О них подробно расскажем позже. Сейчас будем использовать **map**.

![зубная паста](https://stepik.org/media/attachments/lesson/1133855/toothpaste_can_put_back_in.jpeg)

## TASKINLINE Четные числа

Даны целые числа через пробел на одной строке.

Напечатайте только четные числа.

TEST
7 14 15 -8 19 1 240
----
14 -8 240
====
2 4 6 8 10
----
2 4 6 8 10
====
16 -1 -4 3 5 8 -10
----
16 -4 8 -10
=====
100
----
100
====

## Пример: сумма чисел, сколько чисел?

### Задача про яблоки

В ряду растет несколько яблонь. На каждой яблоне $a_i$ яблок. Сколько яблок на всех яблонях?

Формат входных данных:

* через пробел $a_i$

Пример входных данных:
```cpp
5 2 10
```

Начнем с простого: пусть всегда будет 3 яблони. Просуммируем яблоки на 3 деревьях.

Решение "в лоб":
```python
a, b, c = map(int, input().split()) # прочитали сколько яблок
sum = a + b + c                     # всего собрали яблок
print(f'Всего собрали {sum} яблок') 
```

![abc-08.svg](https://stepik.org/media/attachments/lesson/264319/abc-08.svg)

На каждой яблоне установлена памятная табличка с *названием* яблони *эта яблоня была посажена студентом Х после получения зачета по информатике* a, b, c.

Решение верное, но абсолютно не масштабируется. Если в ряду станет 7 яблонь, то нужно вспоминать алфавит, и писать много неповторяющегося кода. Если яблонь будет 100, букв не хватит.

Попробуем переписать код так, чтобы с ростом яблонь количество переменных не изменялось. А код обработки одной яблони можно было бы копировать.


### Яблони в ряду, пишем таблицу

Введем переменные:

* `i` - номер яблони, начинаем с 0 (или "сколько яблонь уже обработали")
* `x` - яблок на одной (текущей) яблоне;
* `sum` - яблок уже собрали (в корзине, куда собираем яблоки).

![Рисунок i_and_x-09.svg](https://stepik.org/media/attachments/lesson/264319/i_and_x-09.svg)

Нарисуем таблицу, в которой стрелками покажем как изменяются переменные:

<p style="text-align:center"><img alt="Таблица изменения переменных" src="https://stepik.org/media/attachments/lesson/264319/table_sum.svg" /></p>

Получим формулы:

* `i += 1`
* очередной элемент последовательности лежит в `x`
* `sum += x`

В каком порядке писать формулы? 

* изменение `i` не зависит от изменения `x` или `sum`, то есть `i += 1` можно писать в любом месте.
* `sum += x` зависит от `x`, поэтому мы пишем эту формулу *после* записи очередного числа в `x`.

```python
# получим последовательность целых чисел
seq = map(int, input().split())

for x in seq:
    sum += x    # добавим яблоки с яблони в корзину
    i += 1      # пройдём еще одно дерево
```
Такой код работать не будет. Питон не знает, к чему прибавлять в выражениях `sum += x` и `i += 1`. 

![Рисунок LocalVariableInitializing-Version3-05.svg](https://stepik.org/media/attachments/lesson/264319/LocalVariableInitializing-Version3-05.svg)

Надо проинициализировать переменные. Сначала корзина пустая. Ни одной яблони еще не прошли.

```python
# получим последовательность целых чисел
seq = map(int, input().split())

# инициализируем переменные
sum = 0         # сначала корзина пустая
i = 0           # ни одного дерева не прошли

for x in seq:
    sum += x    # добавим яблоки с яблони в корзину
    i += 1      # пройдём еще одно дерево
    print(f'i={i} x={x} sum={sum}')
    
print(f'Всего собрали {sum} яблок, в саду {i} дерева') 
```
Входные данные:
```python
5 2 10
```
Выходные данные:
```python
i=1 x=5 sum=5
i=2 x=2 sum=7
i=3 x=10 sum=17
Всего собрали 17 яблок, в саду 3 дерева
```

## QUIZ Забытое i += 1

Что будет делать программа, если не написали `i += 1`?

```python
# получим последовательность целых чисел
seq = map(int, input().split())

# инициализируем переменные
sum = 0         # сначала корзина пустая
i = 0           # ни одного дерева не прошли

for x in seq:
    sum += x    # добавили яблоки с яблони в корзину
    # тут была отладочная печать, но мы ее закомментировали
    # print(f'i={i} x={x} sum={sum}')
    
print(f'Всего собрали {sum} яблок, в саду {i} дерева') 
```
Входные данные:
```cpp
5 2 10
```


A. Напечатает `Всего собрали 17 яблок, в саду 3 дерева`

B. Будет бесконечный цикл, сумма будет все время расти.

C. Напечатает `Всего собрали 0 яблок, в саду 0 дерева`, так как цикл не выполнится ни разу. 

D. Напечатает `Всего собрали 17 яблок, в саду 0 дерева`

ANSWER: D

## TASKINLINE Сумма четных чисел

Прочитайте числа. Напечатайте сумму **четных** чисел.

10 + -6 + 8 = 12

TEST
10 -3 -6 8
----
12
====
3 4
----
4
====
10
----
10
====
1 2 3 4 5 6 7 8 9
----
20
====
-1 -2 -3 -4 -5 -6 -7 -8 -9
----
-20
====


## TASKINLINE Произведение чисел

Даны целые числа через пробел на одной строке. Найдите их произведение.

TEST
2 5 -3
----
-30
====
1 0 4 5 9 11 123
----
0
====
1 2 3 4 5
----
120
====
-7
----
-7
====

## TASKINLINE Сумма обратных чисел

Даны целые числа (без 0) через пробел на одной строке $a_0, a_1, .. a_n$. Найдите сумму чисел

$$ \frac{1}{a_0} +  \frac{1}{a_1} + .. + \frac{1}{a_n}$$

Напечатайте найденную сумму с точностью до 3 знаков. Для печати переменной `х` с точностью до 3 знаков, используйте `print(f'{x:.3f}')` или `print(round(x,3))`

TEST
1 2 4
----
1.750
====
1 -2 4
----
0.750
====
8
----
0.125
====
1 2 3 4 5 6 7 8 9 10
----
2.929
====

## TASKINLINE Максимум и минимум

Дан рост студентов в сантиметрах. Какой рост самого высокого студента?

Будем по одному измерять студентов и записывать рекорд роста в переменную `hmax`. 

* Прочитаем все числа.
* Проинициализируем `hmax` (каким значением?)
* В цикле 
    * будем брать по одному числу и записывать в переменную `height` (рост)
    * если рост нового студента больше, чем `hmax`
        * запомним в `hmax` этот новый рекорд роста.
* Напечатаем `hmax` - рекорд после того, как измерили всех студентов.

Рост студентов точно будет больше 0. Поэтому можно до цикла написать `hmax = 0`. Когда будем сравнивать рост *первого(* студента с 0, рост студента будет больше и мы запомним рост первого студента как рекорд в `hmax`:

```python
a = map(int, input().split())   # прочитали все числа в последовательность
hmax = 0                        # пока рекордный рост 0 см.

for h in a:                     # рост очередного студента хранится в h
    if h > hmax:                # если его рост больше рекорда
        hmax = h                # запишем его рост, как рекорд
    print(f'{h=}\t{hmax=}')     # отладочная печать, печатаем рост студента и рекорд

print(f'Рост самого высокого студента {hmax} см')
``` 
Входные данные:
```cpp
155 160 152 169 189 157 180 172
```
Выходные данные:
```cpp
h=155   hmax=155
h=160   hmax=160
h=152   hmax=160
h=169   hmax=169
h=189   hmax=189
h=157   hmax=189
h=180   hmax=189
h=172   hmax=189
Рост самого высокого студента 189 см
```

Формат `{h=}` работает в питон 3.10 и выше. На момент написания курса на степике используется питон 3.6. Если у вас не работает программа, замените отладочную печать на `print(f'h={h}\thmax={hmax}')`

**Измените программу**, чтобы найти рост самого **низкого** студента

CODE
a = map(int, input().split())
hmax = 0

for h in a:
    if h > hmax:
        hmax = h
    print(f'h={h}\thmax={hmax}')

print(f'Рост самого высокого студента {hmax} см')

TEST
155 160 152 169 189 157 180 172
----
152
====
150 160 152 169 189 157 180 172
----
150
====
155 160 152 169 189 157 180 172 151
----
151
====
165 161 190 182 169 189 167 180 172
----
161
====
165 190 182 169 189 167 180 162 172
----
162
====
155
----
155
====

