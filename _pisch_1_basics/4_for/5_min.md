# Перебираем элементы

lesson = 1160431

## Температура

Даны числа - температура в градусах Цельсия. Найти самую низкую температуру.

Какое число записать рекордом температуры ДО цикла? 0? 100? Температуру Солнца?

### None - не число

Можно записать до цикла в рекорд "не число", особую константу **None**. Нельзя сравнивать `x < None` или `x >= None`.

Можно сравнить `x == None`. Но правильно написать:

* **x is None** - проверка, что `х` это `None`
* **x is not None** - проверка, что `х` это не `None`

Запишем рекорд до цикла `None` и в цикле запишем проверку: если рекорд еще не установлен (`t is None`), то это первое число и запишем его в рекорд:

```python
a = map(int, input().split())   # прочитали все числа в последовательность
tmin = None                     # рекорда температуры еще никакого нет

for t in a:                     # очередная температура хранится в t
    if tmin is None:            # если рекорда еще нет
        tmin = t                # то это число будет рекордом
        print('Установлен первый рекорд {tmin}')
    if t < tmin:                # если температура ниже рекорда
        tmin = t                # запишем эту температуру как рекорд
    print(f'{t=}\t{tmin=}')     # отладочная печать, печатаем текущую температуру и рекорд

print(f'Самая низкая температура {tmin} C')
```
Входные данные:
```python
15 22 10 -5
```
Выходные данные:
```python
Установлен первый рекорд 15
t=15    tmin=15
t=22    tmin=15
t=10    tmin=10
t=-5    tmin=-5
Самая низкая температура -5 С
```

## QUIZ Сравнение с None

Отметьте конструкции, которые равны `True` или `False`, если `x = 5`

A. `x is None`
B. `x == None`
C. `x < None`
D. `x > None`
D. `x >= None`

ANSWER: A, B

## QUIZ elif

Дана программа.
```python
a = map(int, input().split())   # прочитали все числа в последовательность
tmin = None                     # рекорда температуры еще никакого нет

for t in a:                     # очередная температура хранится в t
    if tmin is None:
        tmin = t
        print('Установлен первый рекорд {tmin}')
    elif t < tmin:
        tmin = t
        
print(tmin)
```

Выберите, какое число будет напечатано, если введут
```python
-15 22 10 -5
```
A. -15
B. 22
C. 10
D. -5
E. None
F. Будет ошибка сравнения c None

SHUFFLE: false
ANSWER: A

## QUIZ порядок сравнения

Дана программа.
```python
a = map(int, input().split())   # прочитали все числа в последовательность
tmin = None                     # рекорда температуры еще никакого нет

for t in a:                     # очередная температура хранится в t
    if t < tmin:
        tmin = t
    if tmin is None:
        tmin = t
        # print('Установлен первый рекорд {tmin}')
        
print(tmin)
```

Выберите, какое число будет напечатано, если введут
```python
-15 22 10 -5
```
A. -15
B. 22
C. 10
D. -5
E. None
F. Будет ошибка сравнения c None

SHUFFLE: false
ANSWER: F

## next(a)

Хочется сразу взять первое число как рекорд. Дальше в цикле перебирать оставшиеся числа.

* Перебирая элементы в цикле мы уже сталкивались с *итерацией* (взятием элементов чего-то по очереди). 
* Мы брали *итерируемый объект* (то есть объект, который способен выдавать элементы по одному). 
* И итерировались по нему *в цикле*. 
* Хотим **взять несколько элементов (для начала один) и потом перебрать в цикле оставшиеся**.

*Подробнее об итераторах и их функциях будет рассмотрено в следующем курсе. Сейчас нам нужен простой рецепт для работы с ними.*

| Термин | Пример | Комментарии |
|----|----|----|
| Итерируемый объект | `a = map(int, input().split())` | способен выдавать элементы по одному, из него можно получить итератор |
| Итератор | `it = iter(a)` | возвращает элементы по одному разу с помощью функции `next` |
| Итерация | `x = next(it)` | возвращает очередной элемент или получаем ошибку (бросает исключение StopIteration) |

* `iter(итерируемый объект)`
    * возвращает итератор на основе итерируемого объекта
* `next(итератор)`
    * извлекает элемент из итератора 
    * возвращает этот элемент 

*Все, вода из шланга вытекла, зубная паста выдавлена, элемента в этом итераторе больше нет!*

* Введем числа `5 2 10`, когда будем читать последовательность чисел.
* Сделаем итератор и сохраним его в переменной `it`.
* Извлечем из итератора очередное число с помощью `next` в консоли питона:

```python
>>> a = map(int, input().split())
5 2 10
>>> it = iter(a)
>>> next(it)
5
>>> next(it)
2
>>> next(it)
10
>>> next(it)
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
StopIteration
```
Видим, что введены числа `5 2 10`, а извлекает их `next()` по одному, пока может. **Когда извлекать нечего, возникает ошибка**.

**Циклы прячут создание итератора, извлечение по одному элементу и обработку ошибок.** Пользуемся циклами и пока не думаем, как они это все делают.

Не будем перебирать все элементы вручную до ошибки, просто до цикла возьмем с помощью функции `next` первую температуру как начальный рекорд.

```python
a = map(int, input().split())   # прочитали все числа в последовательность
it = iter(a)                    # из последовательности сделали итератор
tmin = next(it)                 # первую температуру сначала считаем рекордом

                                # в it первой температуры уже нет!
for t in it:                    # очередная температура хранится в t
    if t < tmin:                # если температура ниже рекорда
        tmin = t                # запишем эту температуру как рекорд
    print(f'{t=}\t{tmin=}')     # отладочная печать, печатаем текущую температуру и рекорд

print(f'Самая низкая температура {tmin} C')
```

Входные данные:
```python
15 22 10 -5
```
Выходные данные:
```python
t=22    tmin=15
t=10    tmin=10
t=-5    tmin=-5
Самая низкая температура -5 С
```
Как видите, цикл начался со второй температуры 22.

Любознательным рекомендуем прочитать комментарий под шагом "почему я написал по-другому, а все работает так же".

## TASKINLINE Функция: самая низкая температура

Напишите самостоятельно **функцию** `coldest(a)`, которая возвращает самую низкую температуру в заданной последовательности `a`.

В проверяющей системе уже есть код
```python
a = map(int, input().split())
tmin = coldest(a)
print(tmin)
```
На предыдущем шаге мы писали всю программу, надо разделить ее на ввод, нахождение наименьшего, печать результата.
```python
a = map(int, input().split())   # прочитали все числа в последовательность
it = iter(a)                    # из последовательности сделали итератор
tmin = next(it)                 # первую температуру сначала считаем рекордом

                                # в it первой температуры уже нет!
for t in it:                    # очередная температура хранится в t
    if t < tmin:                # если температура ниже рекорда
        tmin = t                # запишем эту температуру как рекорд
    print(f'{t=}\t{tmin=}')     # отладочная печать, печатаем текущую температуру и рекорд

print(f'Самая низкая температура {tmin} C')
```
CODE
def coldest(a):
    """Возвращает минимальный элемент в последовательности a"""
    # тут нужно написать код
    
FOOTER
a = map(int, input().split())
tmin = coldest(a)
print(tmin)

TEST
-15 22 10 -5
----
-15
====
15 22 10 -5
----
-5
====
15 2 10 35
----
2
====
15 22 10 -5 -15 0 37
----
-15
====

## QUIZ

Дана программа:
```python
a = map(int, input().split())
it = iter(a)

x = next(it)
y = next(it)

print(x, y)
```
Что будет напечатано, если ввели
```python
7 11 -8 132
```

A. 7 11
B. 7 7
C. 11 11
D. Произойдет ошибка
E. Другое

SHUFFLE: false
ANSWER: A

## QUIZ

Студент решил выбирать арбуз так:

```python
def choose(a):
    it = iter(a)
    xstud = next(it)
    for x in it:
        xstud = x
    return xstud

a = list(map(float, input().split()))
my = choose(a)
print(my)        
```

Какой арбуз у него в my?

A. Самый большой

B. Самый маленький

C. Первый

D. Последний

E. Не знаю

ANSWER: D

## NUMBER

Студент решил выбирать арбуз так:

```python
def choose(a):
    it = iter(a)
    xstud = next(it)
    for x in it:
        if x > xstud:
            xstud = x
        return xstud

a = [2.5, 4.3, 5.7, 7.2, 3.14, 4.5]
my = choose(a)
print(my)        
```

Какой арбуз у него в my?

ANSWER: 4.3

## NUMBER

*Тот же код, но другая последовательность арбузов.*

Студент решил выбирать арбуз так:

```python
def choose(a):
    it = iter(a)
    xstud = next(it)
    for x in it:
        if x > xstud:
            xstud = x
        return xstud

a = [2.5, 1.6, 4.3, 5.7, 7.2, 3.14, 4.5]
my = choose(a)
print(my)        
```

Какой арбуз у него в my?

ANSWER: 2.5


## NUMBER 

Студент решил выбирать арбуз так:

```python
def choose(a):
    it = iter(a)
    xstud = next(it)
    for x in it:
        if x > xstud:
            xstud = x
            return xstud

a = [2.5, 1.3, 5.7, 7.2, 3.14, 4.5]
my = choose(a)
print(my)        
```

Какой арбуз у него в my?

ANSWER: 5.7

## TASKINLINE Наименьшее по модулю число

Даны целые числа. Найти наименьшее **по модулю** число.

TEST
-10 5 7 123 -2 1 45
----
1
====
8 99 102 6
----
6
====
-3 -45 -111 -5
----
-3
====
9
----
9
====
1 2 3 0 4 5
----
0
====

## TASKINLINE Сумма максимального и минимального числа

Даны числа. Найти сумму максимального и минимального числа. Ответ напечатать с точностью до 2 знаков.

TEST
5.8 3.2 -12.4 98.345 100.634
----
88.23
====
-1.2345 0.98 8.5
----
7.27
====
7.123 7.34 7.1 7.984
----
15.08
====
-7.123 -7.34 -7.1 -7.984
----
-15.08
====
2.34
----
4.68
====

## Уже есть в python встроенные функции

* **sum**(последовательность) - возвращает сумму всех элементов последовательности;
* **min**(последовательность) - возвращает минимальный элемент последовательности;
* **max**(последовательность) - возвращает максимальный элемент последовательности;

Найти сумму чисел последовательности можно было решить так:
```python
a = map(int, input().split())
res = sum(a)
print(res)
```

Минимальное число:
```python
a = map(int, input().split())
res = min(a)
print(res)
```

### Параметр key

У функций `min` и `max` есть параметр **key**. В него передается какая функция будет применяться к каждому элементу последовательности, прежде чем будет искаться минимум или максимум.

Найти наименьшее по модулю число. Параметру `key` передали функцию взятия модуля `abs`:
```python
a = map(int, input().split())
res = min(a, key=abs)
print(res)
``` 
Функцию можно написать самим. Пусть есть последовательность чисел $a_0, a_1, .. a_n$. Найдем число, которое даст наименьшую дробь $ \frac{1}{a_0},  \frac{1}{a_1}, .. \frac{1}{a_n}$ с помощью функции `min`. Ей передадим нашу функцию `drob(x)`, которая возвращает `1/x`

```python
def drob(x):
    return 1/x
    
a = map(int, input().split())    # 2 10 5 7
res = min(a, key=drob)           
print(res)                       # 10, потому что наименьшая дробь 1/10
``` 
*Математики могли сразу сказать, что чем больше числитель, тем меньше дробь.*

### Два раза

Мы пока не можем решить задачу найти сумму минимального и максимального числа последовательности как

```python
a = map(int, input().split())   # прочитали все числа в последовательность
res = min(a) + max(a)
print(res)
```
Потому что `min(a)` возьмет **все числа** из последовательности `a` и `max(a)` будет перебирать **пустую последовательность**.

```python
>>> a = map(int, input().split())
5 2 10
>>> x1 = max(a)
>>> x1
10
>>> x2 = min(a)
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
ValueError: min() arg is an empty sequence
>>>
```

Научимся хранить много чисел в одной переменной мы в следующем курсе, когда будем изучать коллекции.