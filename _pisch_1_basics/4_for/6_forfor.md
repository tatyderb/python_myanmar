# Вложенные циклы

lesson = 1160430

## Сколько яблок?

Ничего нового. В `while` и `for` в теле цикла можно написать любые операторы. В том числе другие `while` или `for`. Чтобы понять, что делает код, мы будем сначала выделять в функцию код, а потом копипастить тело функции в место ее вызова и смотреть, как получаются вложенные циклы.

### Ряд яблонь

В ряду растет несколько яблонь. На каждой яблоне $a_i$ яблок. Сколько яблок на всех яблонях в ряду?

$a_i$ даны на одной строке через пробел.

Мы [решили эту задачу](https://stepik.org/lesson/1133855/step/3) через цикл `for`. В переменной `total` накапливаем сумму чисел (общее количество яблок), в переменной `counter` считаем количество чисел (количество пройденных деревьев):

```python
seq = map(int, input().split())   # получили последовательность целых чисел

# инициализируем переменные
total = 0           # сначала корзина пустая
counter = 0         # ни одного дерева не прошли

for x in seq:
    total += x      # добавили яблоки с яблони в корзину
    counter += 1    # прошли еще одно дерево
    print(f'{counter=} {x=} {total=}')

print(f'Всего собрали {total} яблок, в саду {counter} деревьев')
```

### Один ряд в виде функции

Напишем отдельную функцию для подсчета яблок и деревьев в одном ряду.
```python
def sum_row():
    """Читает последовательность целых чисел (яблок на яблонях в ряду).
    Возвращает сколько яблок и сколько деревьев в последовательности row."""
    # инициализируем переменные
    total = 0           # сначала корзина пустая
    counter = 0         # ни одного дерева не прошли

    seq = map(int, input().split())   # получили последовательность целых чисел
    for x in seq:
        total += x      # добавили яблоки с яблони в корзину
        counter += 1    # прошли еще одно дерево
        print(f'{counter=} {x=} {total=}')
    return total, counter
        
apples, trees = sum_row()
print(f'Всего собрали {apples} яблок, в ряду {trees} деревьев')
```

### В саду много рядов

Пусть у нас сад из многих рядов яблонь. Сначала задано $n$ количество рядов. На следующих строках дано $n$ рядов яблонь.

Входные данные, 3 ряда яблонь:
```cpp
3
15 24
7 82 15
54
```
Задачу легко решить через цикл (повторить 3 раза), используя функцию `sum_row`, которая читает и обрабатывает один ряд.
```python
n = int(input())
total_apples = 0    # яблок во всех рядах
total_trees = 0     # деревьев во всех рядах
for i in range(n):
    # прочитаем и посчитаем яблоки в одном ряду
    apples, trees = sum_row()
    # добавим их в общую сумму
    total_apples += apples
    total_trees += trees
    
print(f'Всего собрали {total_apples} яблок, в саду {total_trees} деревьев')
```

### Вместо вызова функции - ее содержимое

Обычно мы выделяем код в отдельную функцию, чтобы код проще было читать. Сделаем обратное - заменим вызов функции на её код.

```python
n = int(input())
total_apples = 0    # яблок во всех рядах
total_trees = 0     # деревьев во всех рядах
for i in range(n):
    # прочитаем и посчитаем яблоки в одном ряду
    # инициализируем переменные
    total = 0           # сначала корзина пустая
    counter = 0         # ни одного дерева не прошли

    seq = map(int, input().split())   # получили последовательность целых чисел
    for x in seq:
        total += x      # добавили яблоки с яблони в корзину
        counter += 1    # прошли еще одно дерево
        print(f'{counter=} {x=} {total=}')
    # добавим их в общую сумму
    total_apples += apples
    total_trees += trees
    
print(f'Всего собрали {total_apples} яблок, в саду {total_trees} деревьев')
```
Внутри цикла `for i in range(n)` для каждого `i` выполняется **вложенный цикл** `for x in seq`.

## Таблица умножения

Мы [писали код](https://stepik.org/lesson/414777/step/11), который выводит столбец таблицы умножения на $k$:

```python
for i in range(1, 11):
    res = i * k
    print(f'{i}*{k}={res}')
```
Запишем этот код в виде функции:

```python
def mult_k(k):
    """Печатает таблицу умножения на k."""
    for i in range(1, 11):
        res = i * k
        print(f'{i}*{k}={res}')
```
Напечатаем все столбцы таблицы умножения, от 1 до 10.
```python
for k in range(1, 11):
    mult_k(k)
    print()     # дополнительная пустая строка между столбцами
```
Заменим вызов функции на ее содержимое:
```python
for k in range(1, 11):
    for i in range(1, 11):
        res = i * k
        print(f'{i}*{k}={res}')
    print()
```
Переменная для каждого цикла должна быть своя! Во внешнем цикле это `k`, во внутреннем `i`.

## QUIZ

Что будет напечатано?

```python
for i in range(1, 3):
    for j in range(2, 5):
        print(f'{i}{j}', end=' ')
```
A. 12 13 14 22 23 24
B. 12 22 13 23 14 24
C. 12 13 14 52 53 54
D. 22 33 44 22 33 44
E. что-то другое
F. ошибка

ANSWER: A

## QUIZ

Что будет напечатано?

```python
for i in range(1, 3):
    for i in range(2, 5):
        print(f'{i}', end=' ')
```
A. 2 3 4 2 3 4
B. 1 2 3 4 5
C. 1 2 3 4 5 1 2 3 4 5
D. 2 3 4 2 3 4 2 3 4
E. что-то другое
F. ошибка

ANSWER: A

## TASKINLINE Квадраты

Дано число $n$. Напечатайте квадраты из символа `*` со сторонами от 1 до $n$ включительно.

TEST
3
----
*
**
**
***
***
***
====
1
----
*
====
6
----
*
**
**
***
***
***
****
****
****
****
*****
*****
*****
*****
*****
******
******
******
******
******
******
====

## TASKINLINE Ёлочка

Дано число $n$. Напечатайте ёлочку из символа `*` из треугольников со сторонами от 1 до $n$ включительно.

TEST
4
----
*
*
**
*
**
***
*
**
***
****
====
1
----
*
====
6
----
*
*
**
*
**
***
*
**
***
****
*
**
***
****
*****
*
**
***
****
*****
******
====


## TASKINLINE Таблица умножения

Напечатайте таблицу Пифагора (умножения) до $row$ по строкам и до $col$ по столбцам включительно.

![таблица Пифагора](https://stepik.org/media/attachments/lesson/1160430/filled-pifagor-table.jpg)

TEST
3 4
----
1 2 3 4
2 4 6 8
3 6 9 12
====
5 2
----
1 2
2 4
3 6
4 8
5 10
====
1 12
----
1 2 3 4 5 6 7 8 9 10 11 12
====
10 10
----
1 2 3 4 5 6 7 8 9 10 
2 4 6 8 10 12 14 16 18 20 
3 6 9 12 15 18 21 24 27 30 
4 8 12 16 20 24 28 32 36 40 
5 10 15 20 25 30 35 40 45 50 
6 12 18 24 30 36 42 48 54 60 
7 14 21 28 35 42 49 56 63 70 
8 16 24 32 40 48 56 64 72 80 
9 18 27 36 45 54 63 72 81 90 
10 20 30 40 50 60 70 80 90 100 
====

